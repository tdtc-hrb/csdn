<!DOCTYPE html>
<html lang="zh-CN">
<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    
    <meta name="referrer" content="no-referrer"/>
    



<meta name="twitter:title" content="迁移自(blog.csdn.net/xiaobin_HLJ80)"/>
<meta name="twitter:description" content=""/>
<meta name="twitter:site" content="@"/>



  	<meta property="og:title" content="迁移自(blog.csdn.net/xiaobin_HLJ80) &middot; 迁移自(blog.csdn.net/xiaobin_HLJ80)" />
  	<meta property="og:site_name" content="迁移自(blog.csdn.net/xiaobin_HLJ80)" />
  	<meta property="og:url" content="https://tdtc-hrb.github.io/csdn/" />

    
        
    

    
    <meta property="og:type" content="website" />
    <meta property="og:description" content="" />
    

    <title>迁移自(blog.csdn.net/xiaobin_HLJ80) &middot; 迁移自(blog.csdn.net/xiaobin_HLJ80)</title>

    
    <meta name="description" content="" />
    

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="/csdn/images/favicon.ico">
	  <link rel="apple-touch-icon" href="/csdn/images/apple-touch-icon.png" />

    <link rel="stylesheet" type="text/css" href="/csdn/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="/csdn/css/nav.css" />

    

    

    
      
          <link href="/csdn/index.xml" rel="alternate" type="application/rss+xml" title="迁移自(blog.csdn.net/xiaobin_HLJ80)" />
      
      
        <link href='/csdn/index.xml' rel="alternate" type="application/rss+xml" title="迁移自(blog.csdn.net/xiaobin_HLJ80) &middot; 迁移自(blog.csdn.net/xiaobin_HLJ80)" />
      
    
    <meta name="generator" content="Hugo 0.154.3">

    <link rel="canonical" href="https://tdtc-hrb.github.io/csdn/" />

    
      
    
    <script type="application/ld+json">
    {
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Person",
        "name":  null ,
        
        "url":  null ,
        "sameAs": [
            
            
             
             
             
             
             
            
        ]
    },
    "url": "https://tdtc-hrb.github.io/csdn/",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://tdtc-hrb.github.io/csdn/"
    },
    "description":  null 
}
  </script>
    


    

    

    
</head>
<body class="nav-closed">

  <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        
        
    </ul>

    
    <a class="subscribe-button icon-feed" href="/csdn/index.xml">Subscribe</a>
    
</div>
<span class="nav-cover"></span>


 <div class="site-wrapper">




	<header class="main-header tag-head no-cover">

    <nav class="main-nav overlay clearfix">
      
      
        
          <a class="menu-button icon-feed" href='/csdn/index.xml'>&nbsp;&nbsp;Subscribe</a>
        
      
    </nav>
    <div class="vertical">
        <div class="main-header-content inner">
            <h1 class="page-title">迁移自(blog.csdn.net/xiaobin_HLJ80)</h1>
            <h2 class="page-description">
                
            </h2>
        </div>
    </div>
</header>

<main class="content" role="main">
    

	<div class="extra-pagination inner">
    <nav class="pagination" role="navigation">
	
	    <a class="newer-posts" href="/csdn/page/5/">&larr; Newer Posts</a>
	
	<span class="page-number">Page 6 of 12</span>
	
	    <a class="older-posts" href="/csdn/page/7/">Older Posts &rarr;</a>
	
</nav>

	</div>

	
	   <article class="post post">
    <header class="post-header">
        <h2 class="post-title"><a href="/csdn/post/c-string-i2h/">十进制转十六进制</a></h2>
    </header>
    <section class="post-excerpt">
        
            <p><p>工作原理：</p>
<blockquote>
<p>规则是从低位到高位
被除数，除以16, 直到商小于16。  <br>
将余数加上余商，就是16进制数。</p>
</blockquote>
<ul>
<li>被除数</li>
</ul>
<ol>
<li>等于转换数</li>
<li>等于商 <br>
如果商大于16，就是被除数。</li>
</ol>
<h1 id="手算">手算</h1>
<p>10进制：1566</p>
<p>  (1) 1566 ÷ 16 = 97    余数为14 <br>
  (2) 97   ÷ 16 = 6     余数为1</p>
<p>16进制：第1个余数(14) + 第2个余数(1) + 余商(6)  = 0x61E</p>
<h1 id="code">code</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * Int2hex.c
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *  Created on: 2010-07-20
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> *      Author: xiaobin
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">int2hex</span>(<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> <span style="color:#66d9ef">long</span> input, <span style="color:#66d9ef">char</span> output[]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">int</span> argc, <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> argv[])
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> iDigit <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span>; <span style="color:#75715e">// 2205071409 // date: 2022.5.7 14:09
</span></span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> out[<span style="color:#ae81ff">10</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> k;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> <span style="color:#66d9ef">long</span> input <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (argc <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>        input <span style="color:#f92672">=</span> <span style="color:#a6e22e">atoll</span>(argv[<span style="color:#ae81ff">1</span>]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">int2hex</span>(input, out);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%s%llu%s&#34;</span>, <span style="color:#e6db74">&#34;Integer: &#34;</span>, input, <span style="color:#e6db74">&#34; Hex: 0x&#34;</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (k <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; k <span style="color:#f92672">&lt;</span> iDigit; k<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">char</span> ch <span style="color:#f92672">=</span> out[k];
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;%c&#34;</span>, ch);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">int2hex</span>(<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> <span style="color:#66d9ef">long</span> input, <span style="color:#66d9ef">char</span> output[]) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">9</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> j;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (((input <span style="color:#f92672">%</span> <span style="color:#ae81ff">16</span>) <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span>) <span style="color:#f92672">||</span> (input <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">15</span>)) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">char</span> tempCh;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">switch</span> (input <span style="color:#f92672">%</span> <span style="color:#ae81ff">16</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">0</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                 tempCh <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;0&#39;</span>;
</span></span><span style="display:flex;"><span>                 <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                 tempCh <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;1&#39;</span>;
</span></span><span style="display:flex;"><span>                 <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                 tempCh <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;2&#39;</span>;
</span></span><span style="display:flex;"><span>                 <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">3</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                 tempCh <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;3&#39;</span>;
</span></span><span style="display:flex;"><span>                 <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">4</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                 tempCh <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;4&#39;</span>;
</span></span><span style="display:flex;"><span>                 <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">5</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                 tempCh <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;5&#39;</span>;
</span></span><span style="display:flex;"><span>                 <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">6</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                 tempCh <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;6&#39;</span>;
</span></span><span style="display:flex;"><span>                 <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">7</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                 tempCh <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;7&#39;</span>;
</span></span><span style="display:flex;"><span>                 <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">8</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                 tempCh <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;8&#39;</span>;
</span></span><span style="display:flex;"><span>                 <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">9</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                 tempCh <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;9&#39;</span>;
</span></span><span style="display:flex;"><span>                 <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">10</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                 tempCh <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;A&#39;</span>;
</span></span><span style="display:flex;"><span>                 <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">11</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                 tempCh <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;B&#39;</span>;
</span></span><span style="display:flex;"><span>                 <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">12</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                 tempCh <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;C&#39;</span>;
</span></span><span style="display:flex;"><span>                 <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">13</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                 tempCh <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;D&#39;</span>;
</span></span><span style="display:flex;"><span>                 <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">14</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                 tempCh <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;E&#39;</span>;
</span></span><span style="display:flex;"><span>                 <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">15</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                 tempCh <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;F&#39;</span>;
</span></span><span style="display:flex;"><span>                 <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        output[i] <span style="color:#f92672">=</span> tempCh;
</span></span><span style="display:flex;"><span>        input <span style="color:#f92672">=</span> input <span style="color:#f92672">/</span> <span style="color:#ae81ff">16</span>;
</span></span><span style="display:flex;"><span>        i<span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (j <span style="color:#f92672">=</span> i; j <span style="color:#f92672">&gt;</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>; j<span style="color:#f92672">--</span>)
</span></span><span style="display:flex;"><span>        output[j] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;0&#39;</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div> <a class="read-more" href="/csdn/post/c-string-i2h/">&raquo;</a></p>
        
    </section>
    <footer class="post-meta">
        

        

        
        <time class="post-date" datetime="2022-05-07T00:08:08&#43;08:00">
            7 May 2022
        </time>
    </footer>
</article>

	
	   <article class="post post">
    <header class="post-header">
        <h2 class="post-title"><a href="/csdn/post/mysql-master-slave-replication/">MySQL 主从复制</a></h2>
    </header>
    <section class="post-excerpt">
        
            <p><blockquote>
<p>在进行配置前，请确认已经安装 <a href="https://tdtc-hrb.github.io/csdn/post/mysql57-cenos7/">mysql5.7 - CentOS</a></p>
</blockquote>
<h1 id="1-网络配置">1. 网络配置</h1>
<p>Replication Group 1:</p>
<table>
  <thead>
      <tr>
          <th>Name</th>
          <th>IP</th>
          <th>Memo</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>mysql1</td>
          <td>192.168.0.160</td>
          <td>Master</td>
      </tr>
      <tr>
          <td>mysql11</td>
          <td>192.168.0.161</td>
          <td>Slave</td>
      </tr>
      <tr>
          <td>mysql12</td>
          <td>192.168.0.162</td>
          <td>Slave</td>
      </tr>
  </tbody>
</table>
<p>Replication Group 2(Maria DB):</p>
<table>
  <thead>
      <tr>
          <th>Name</th>
          <th>IP</th>
          <th>Memo</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>mysql2</td>
          <td>192.168.0.170</td>
          <td>Master</td>
      </tr>
      <tr>
          <td>mysql21</td>
          <td>192.168.0.171</td>
          <td>Slave</td>
      </tr>
      <tr>
          <td>mysql22</td>
          <td>192.168.0.172</td>
          <td>Slave</td>
      </tr>
  </tbody>
</table>
<h1 id="2-configure-mysql-cluster">2. Configure MySQL cluster</h1>
<h2 id="1-master-server">1) Master Server</h2>
<p><a href="https://dev.mysql.com/doc/refman/5.7/en/replication-howto-masterbaseconfig.html">Setting the Replication Master Configuration</a></p>
<blockquote>
<p>/etc/my.cnf</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">[</span>mysqld<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>log-bin<span style="color:#f92672">=</span>mysql160-bin
</span></span><span style="display:flex;"><span>server-id<span style="color:#f92672">=</span><span style="color:#ae81ff">160</span>
</span></span></code></pre></div><h2 id="2-slave-server">2) Slave Server</h2>
<p><a href="https://dev.mysql.com/doc/refman/5.7/en/replication-setup-slaves.html">Setting the Replication Slave Configuration</a></p>
<blockquote>
<p>/etc/my.cnf</p>
</blockquote>
<ul>
<li>Slave 1</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">[</span>mysqld<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>server-id<span style="color:#f92672">=</span><span style="color:#ae81ff">161</span>
</span></span></code></pre></div><ul>
<li>Slave 2</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">[</span>mysqld<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>server-id<span style="color:#f92672">=</span><span style="color:#ae81ff">162</span>
</span></span></code></pre></div><h1 id="3-replication-user">3. replication user</h1>
<blockquote>
<p>Master Server
<a href="https://dev.mysql.com/doc/refman/5.7/en/replication-howto-repuser.html">Creating a User for Replication</a></p> <a class="read-more" href="/csdn/post/mysql-master-slave-replication/">&raquo;</a></p>
        
    </section>
    <footer class="post-meta">
        

        

        
        <time class="post-date" datetime="2022-04-13T09:38:08&#43;08:00">
            13 Apr 2022
        </time>
    </footer>
</article>

	
	   <article class="post post">
    <header class="post-header">
        <h2 class="post-title"><a href="/csdn/post/ops_keepalived/">安装配置Keepalived</a></h2>
    </header>
    <section class="post-excerpt">
        
            <p><blockquote>
<p>OS: CentOS7 minimal(VMware)</p>
</blockquote>
<h1 id="一安装">一、安装</h1>
<h2 id="0-prepare-tool">0. prepare tool</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$yum group list
</span></span></code></pre></div><h3 id="1-dev-tools">1) dev tools</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$yum group install <span style="color:#e6db74">&#34;Development Tools&#34;</span>
</span></span></code></pre></div><h3 id="2-openssl-devel">2) openssl-devel</h3>
<blockquote>
<p>update see &ldquo;nginx’s load balancing的安装部分的<a href="https://xiaobin80.gitee.io/csdn/post/ops_nginx/">update OpenSSL</a>&rdquo;</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$yum install openssl-devel
</span></span></code></pre></div><h3 id="3-libnl">3) libnl</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$yum install libnl libnl-devel libnfnetlink-devel
</span></span></code></pre></div><h2 id="1-keepalived">1. keepalived</h2>
<blockquote>
<p>v1.4.5</p>
</blockquote>
<h3 id="down-and-unzip">down and unzip</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$wget http://www.keepalived.org/software/keepalived-1.4.5.tar.gz
</span></span><span style="display:flex;"><span>$ tar zxvf keepalived-1.4.5.tar.gz
</span></span></code></pre></div><h3 id="installation">installation</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$cd keepalived-1.4.5
</span></span><span style="display:flex;"><span>$./configure --prefix<span style="color:#f92672">=</span>/usr/local/keepalived
</span></span><span style="display:flex;"><span>$make
</span></span></code></pre></div><p>Root permission Required</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$make install
</span></span></code></pre></div><h3 id="setup">setup</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$cp /usr/local/keepalived/sbin/keepalived /usr/sbin/
</span></span><span style="display:flex;"><span>$mkdir -p /etc/keepalived
</span></span><span style="display:flex;"><span>$cp /usr/local/keepalived/etc/keepalived/keepalived.conf /etc/keepalived/keepalived.conf
</span></span><span style="display:flex;"><span>$cp /usr/local/keepalived/etc/sysconfig/keepalived /etc/sysconfig/
</span></span><span style="display:flex;"><span>$cp /tmp/keepalived-1.4.5/keepalived/etc/init.d/keepalived /etc/init.d/
</span></span><span style="display:flex;"><span>$chmod <span style="color:#ae81ff">755</span> /etc/init.d/keepalived
</span></span></code></pre></div><p>edit service config file</p> <a class="read-more" href="/csdn/post/ops_keepalived/">&raquo;</a></p>
        
    </section>
    <footer class="post-meta">
        

        

        
        <time class="post-date" datetime="2022-04-13T08:38:08&#43;08:00">
            13 Apr 2022
        </time>
    </footer>
</article>

	
	   <article class="post post">
    <header class="post-header">
        <h2 class="post-title"><a href="/csdn/post/ops_department_cups/">共享打印机 - CUPS</a></h2>
    </header>
    <section class="post-excerpt">
        
            <p><p>Tips: Ubuntu已经安装了打印机了，我们怎么共享它呢？</p>
<h1 id="安装cups">安装CUPS</h1>
<blockquote>
<p>Ubuntu</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#apt-get install cups</span>
</span></span></code></pre></div><p><img src="https://github.com/tdtc-hrb/csdn/raw/master/images/1366695534_9598.png" alt="2013-04-23 13:46:39">
<img src="https://github.com/tdtc-hrb/csdn/raw/master/images/1366695567_8889.png" alt="2013-04-23 13:46:39"></p>
<h1 id="客户端设置">客户端设置</h1>
<blockquote>
<p>Windows</p>
</blockquote>
<p>“打印机和传真”-〉“添加打印机”
<img src="https://github.com/tdtc-hrb/csdn/raw/master/images/1366695728_7985.png" alt="2013-04-23 13:46:39">
<img src="https://github.com/tdtc-hrb/csdn/raw/master/images/1366695833_3627.png" alt="2013-04-23 13:46:39">
<img src="https://github.com/tdtc-hrb/csdn/raw/master/images/1366695850_7933.png" alt="2013-04-23 13:46:39">
（注意：根据办公环境的网络设置自行填写）
<img src="https://github.com/tdtc-hrb/csdn/raw/master/images/1366696017_4913.png" alt="安装hp打印驱动1">
插入HP的驱动光盘:  <br>
<img src="https://github.com/tdtc-hrb/csdn/raw/master/images/1366696038_9402.png" alt="安装hp打印驱动2">
<img src="https://github.com/tdtc-hrb/csdn/raw/master/images/1366696055_5323.png" alt="安装hp打印驱动3">
<img src="https://github.com/tdtc-hrb/csdn/raw/master/images/1366696090_4706.png" alt="安装hp打印驱动4">
<img src="https://github.com/tdtc-hrb/csdn/raw/master/images/1366696175_7673.png" alt="安装hp打印驱动5">
<img src="https://github.com/tdtc-hrb/csdn/raw/master/images/1366696190_2024.png" alt="安装hp打印驱动6">
<img src="https://github.com/tdtc-hrb/csdn/raw/master/images/1366696215_3468.png" alt="安装hp打印驱动7">
<img src="https://github.com/tdtc-hrb/csdn/raw/master/images/1366696241_6154.png" alt="安装hp打印驱动8"></p> <a class="read-more" href="/csdn/post/ops_department_cups/">&raquo;</a></p>
        
    </section>
    <footer class="post-meta">
        

        

        
        <time class="post-date" datetime="2022-04-13T03:18:08&#43;08:00">
            13 Apr 2022
        </time>
    </footer>
</article>

	
	   <article class="post post">
    <header class="post-header">
        <h2 class="post-title"><a href="/csdn/post/reduxjs-asyn-dispatcher/">dispatcher - Asynchronous</a></h2>
    </header>
    <section class="post-excerpt">
        
            <p><h1 id="1-program-flow">1. Program Flow</h1>
<h2 id="1-synchronous">1) Synchronous</h2>
<p><img src="https://github.com/tdtc-hrb/csdn/raw/master/images/flux-unidir-ui-arch.png" alt="flux-unidir-ui-arch"></p>
<h2 id="2-asynchronous">2) Asynchronous</h2>
<p><img src="https://github.com/tdtc-hrb/csdn/raw/master/images/redux-unidir-ui-arch.png" alt="redux-unidir-ui-arch"></p>
<h1 id="2-redux-saga">2. redux-saga</h1>
<blockquote>
<p>about CQRS: <a href="http://codebetter.com/gregyoung/2010/02/20/why-use-event-sourcing/">Event-sourcing</a></p>
</blockquote>
<p><img src="https://github.com/tdtc-hrb/csdn/raw/master/images/redux-unidir-ui-arch.png" alt="Event-sourcing"></p>
<h2 id="1-install">1) Install</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>npm install --save redux-saga
</span></span></code></pre></div><p><a href="https://github.com/redux-saga/redux-saga/tree/master/examples">examples</a></p>
<h1 id="reference">Reference</h1>
<ul>
<li><a href="https://staltz.com/unidirectional-user-interface-architectures.html">UNIDIRECTIONAL USER INTERFACE ARCHITECTURES - André Staltz</a></li>
<li><a href="http://udidahan.com/2009/12/09/clarified-cqrs/">Clarified CQRS</a></li>
</ul> <a class="read-more" href="/csdn/post/reduxjs-asyn-dispatcher/">&raquo;</a></p>
        
    </section>
    <footer class="post-meta">
        

        

        
        <time class="post-date" datetime="2022-04-10T17:26:39&#43;08:00">
            10 Apr 2022
        </time>
    </footer>
</article>

	
	   <article class="post post">
    <header class="post-header">
        <h2 class="post-title"><a href="/csdn/post/js-redux-mini/">最小实现redux - 分解redux</a></h2>
    </header>
    <section class="post-excerpt">
        
            <p><p>project: <a href="https://gitee.com/xiaobin80/starter">https://gitee.com/xiaobin80/starter</a></p>
<h1 id="application">application</h1>
<blockquote>
<p>app.js</p>
</blockquote>
<h2 id="include-createstore">include createStore</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">createStore</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;redux&#39;</span>
</span></span></code></pre></div><h2 id="establish-reducer">Establish reducer</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">reducerName</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">state</span>, <span style="color:#a6e22e">action</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">state</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="invoke-createstore">invoke createStore()</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">store</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">createStore</span>(<span style="color:#a6e22e">reducerName</span>);
</span></span></code></pre></div><h1 id="html">html</h1>
<blockquote>
<p>public/index.html</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;!DOCTYPE html&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;html&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;head&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;title&gt;</span>The Complete Redux Book - Example Application<span style="color:#f92672">&lt;/title&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/head&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;body&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;div</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;app&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>      Redux is running: <span style="color:#f92672">&lt;span</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;counter&#34;</span><span style="color:#f92672">&gt;&lt;/span&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/div&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;script</span> <span style="color:#a6e22e">type=</span><span style="color:#e6db74">&#34;text/javascript&#34;</span> <span style="color:#a6e22e">src=</span><span style="color:#e6db74">&#34;../app.js&#34;</span><span style="color:#f92672">&gt;&lt;/script&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/body&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/html&gt;</span>
</span></span></code></pre></div> <a class="read-more" href="/csdn/post/js-redux-mini/">&raquo;</a></p>
        
    </section>
    <footer class="post-meta">
        

        

        
        <time class="post-date" datetime="2022-04-10T08:26:39&#43;08:00">
            10 Apr 2022
        </time>
    </footer>
</article>

	
	   <article class="post post">
    <header class="post-header">
        <h2 class="post-title"><a href="/csdn/post/dpkg-issues/">dpkg的info问题和file system只读问题</a></h2>
    </header>
    <section class="post-excerpt">
        
            <p><h1 id="install">Install</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo dpkg -i debName.deb
</span></span></code></pre></div><h1 id="issues">issues</h1>
<h2 id="info问题">info问题</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>E: Sub-process /usr/bin/dpkg returned an error code <span style="color:#f92672">(</span>1<span style="color:#f92672">)</span>
</span></span></code></pre></div><p>解决办法：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cd /var/lib/dpkg
</span></span><span style="display:flex;"><span>sudo mv info info.bak
</span></span><span style="display:flex;"><span>sudo mkdir info
</span></span></code></pre></div><h2 id="文件系统只读问题">文件系统只读问题</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>W: Problem unlinking the file /var/cache/apt/pkgcache.bin - RemoveCaches <span style="color:#f92672">(</span>30: Read-only file system<span style="color:#f92672">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo fsck -Af
</span></span><span style="display:flex;"><span>sudo reboot
</span></span></code></pre></div> <a class="read-more" href="/csdn/post/dpkg-issues/">&raquo;</a></p>
        
    </section>
    <footer class="post-meta">
        

        

        
        <time class="post-date" datetime="2022-04-10T02:10:39&#43;08:00">
            10 Apr 2022
        </time>
    </footer>
</article>

	
	   <article class="post post">
    <header class="post-header">
        <h2 class="post-title"><a href="/csdn/post/go-data-using/">使用go-bindata</a></h2>
    </header>
    <section class="post-excerpt">
        
            <p><h1 id="安装">安装</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ go get -u github.com/go-bindata/go-bindata/...
</span></span></code></pre></div><h1 id="generation-bindatago">generation bindata.go</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ cd ~/go/src/github.com/xiaobin80/go-micro-services/
</span></span><span style="display:flex;"><span>$ go-bindata data/...
</span></span><span style="display:flex;"><span>$ mv bindata.go ./data/
</span></span></code></pre></div><h1 id="修改包名">修改包名</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>
</span></span></code></pre></div><p>&mdash;》</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#f92672">package</span> <span style="color:#a6e22e">xxx</span>
</span></span></code></pre></div><blockquote>
<p>此例xxx为data。</p>
</blockquote>
<h1 id="reference">Reference</h1>
<ul>
<li><a href="https://github.com/go-bindata/go-bindata">go-bindata</a></li>
<li><a href="https://github.com/harlow/go-micro-services">go-micro-services</a></li>
</ul> <a class="read-more" href="/csdn/post/go-data-using/">&raquo;</a></p>
        
    </section>
    <footer class="post-meta">
        

        

        
        <time class="post-date" datetime="2022-04-10T02:10:39&#43;08:00">
            10 Apr 2022
        </time>
    </footer>
</article>

	
	   <article class="post post">
    <header class="post-header">
        <h2 class="post-title"><a href="/csdn/post/ops_git_oper1/">git操作 部分1</a></h2>
    </header>
    <section class="post-excerpt">
        
            <p><h1 id="一远程仓库回滚">一、远程仓库回滚</h1>
<h2 id="1-硬性">1. 硬性</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git reset --hard HEAD~1
</span></span></code></pre></div><ul>
<li>&ldquo;~1&quot;表示向前回滚1个提交。</li>
<li>&ldquo;~2&quot;表示向前回滚2个提交，以此类推。</li>
</ul>
<h2 id="2-强制推送">2. 强制推送</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git push -f --set-upstream origin master
</span></span></code></pre></div><h1 id="二删除github发布">二、删除github发布</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git tag -d <span style="color:#f92672">[</span>tag<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>git push origin :<span style="color:#f92672">[</span>tag<span style="color:#f92672">]</span>
</span></span></code></pre></div><p>例如：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git tag -d v0.3.1
</span></span><span style="display:flex;"><span>git push origin :v0.3.1
</span></span></code></pre></div><h1 id="三修改commit信息">三、修改commit信息</h1>
<p>可以修改最后一次提交的信息.</p>
<p>进入git-cmd或git-bash：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git commit --amend
</span></span></code></pre></div><p>About：</p>
<blockquote>
<p>git-bash和git-cmd的区别</p>
<blockquote>
<p>bash是linux风格的命令行，可以使用windows和linux的命令；
cmd是windows风格的命令行，可以使用windows命令；</p>
<blockquote>
<p>此外，还有一个最大的不同点，git-cmd是天生就带了系统的PATH环境变量，
这一点会导致如果你运行某些脚本的时候，如果依赖某些安装的程序，
如python、node这些，git-bash就会提示不存在对应的命令，
而git-cmd可以正确运行。
 </p>
</blockquote>
</blockquote>
</blockquote>
<h1 id="四合并分支">四、合并分支</h1>
<h2 id="1-checkout">1. checkout</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git checkout dev
</span></span><span style="display:flex;"><span>git checkout master
</span></span></code></pre></div><h2 id="2-merge">2. merge</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git merge origin/dev
</span></span></code></pre></div><h1 id="五设置user">五、设置user</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git init
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>git config user.name <span style="color:#e6db74">&#34;xiaobin80&#34;</span>
</span></span><span style="display:flex;"><span>git config user.email <span style="color:#e6db74">&#34;veic_2005@163.com&#34;</span>
</span></span></code></pre></div><h1 id="issues">Issues</h1>
<p>Git-2.39.1-64-bit + TortoiseGit-2.14.0.0-64bit</p> <a class="read-more" href="/csdn/post/ops_git_oper1/">&raquo;</a></p>
        
    </section>
    <footer class="post-meta">
        

        

        
        <time class="post-date" datetime="2022-02-02T01:38:08&#43;08:00">
            2 Feb 2022
        </time>
    </footer>
</article>

	
	   <article class="post post">
    <header class="post-header">
        <h2 class="post-title"><a href="/csdn/post/js-thousand-separator/">千位分隔符</a></h2>
    </header>
    <section class="post-excerpt">
        
            <p><h1 id="1-字符串替换">1. 字符串替换</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * 字符串替换函数 - js
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * expStr:  查找的字符串
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * string:  整个字符串
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> * repStr:  替换的字符串
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">replacStr</span>(<span style="color:#a6e22e">expStr</span>, <span style="color:#a6e22e">string</span>, <span style="color:#a6e22e">repStr</span>) {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">result</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">regex</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> (parseInt(<span style="color:#a6e22e">expStr</span>) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>)  <span style="color:#75715e">// 数字
</span></span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">regex</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> RegExp(<span style="color:#a6e22e">expStr</span>, <span style="color:#e6db74">&#34;g&#34;</span>);
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">else</span>			<span style="color:#75715e">// 非数字
</span></span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">regex</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> RegExp(<span style="color:#e6db74">&#34;\\&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">expStr</span>, <span style="color:#e6db74">&#34;g&#34;</span>);
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">result</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">string</span>.<span style="color:#a6e22e">replace</span>(<span style="color:#a6e22e">regex</span>, <span style="color:#a6e22e">repStr</span>);
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">result</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h1 id="2-千分符">2. 千分符</h1>
<p>例如，货币7867321.55，怎样使用js来分割他呢？</p>
<h2 id="0-分离小数和整数">0. 分离小数和整数</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">index</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">strCny</span>.<span style="color:#a6e22e">indexOf</span>(<span style="color:#e6db74">&#34;.&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> ( <span style="color:#a6e22e">index</span> <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">strNum</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">strCny</span>.<span style="color:#a6e22e">substring</span>(<span style="color:#ae81ff">0</span>, <span style="color:#a6e22e">index</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">strDec</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">strCny</span>.<span style="color:#a6e22e">substr</span>(<span style="color:#a6e22e">index</span> <span style="color:#f92672">-</span> <span style="color:#a6e22e">iLenCny</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">strCny</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">strNum</span>;
</span></span><span style="display:flex;"><span>} 
</span></span></code></pre></div><h2 id="1-转换为string">1. 转换为string</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">strCny</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">cny</span>.<span style="color:#a6e22e">toString</span>();
</span></span></code></pre></div><h2 id="2-转化为数组">2. 转化为数组</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">array</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">strCny</span>.<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#34;&#34;</span>);
</span></span></code></pre></div><h2 id="3-循环数组">3. 循环数组</h2>
<ol>
<li>由个位开始</li>
<li>每3位，加个逗号</li>
<li>控制count和len</li>
</ol>
<blockquote>
<p>循环一次计数一次；
每增加个逗号，长度（len）+1</p>
</blockquote>
<h2 id="4-转换string">4. 转换string</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">result</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">array</span>.<span style="color:#a6e22e">join</span>(<span style="color:#e6db74">&#34;&#34;</span>);
</span></span></code></pre></div><p>并输出</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">result</span>);  
</span></span><span style="display:flex;"><span><span style="color:#75715e">//alert(result);
</span></span></span></code></pre></div><h1 id="完整代码">完整代码</h1>
<p>money.html</p> <a class="read-more" href="/csdn/post/js-thousand-separator/">&raquo;</a></p>
        
    </section>
    <footer class="post-meta">
        

        

        
        <time class="post-date" datetime="2021-11-18T02:18:39&#43;08:00">
            18 Nov 2021
        </time>
    </footer>
</article>

	

	<nav class="pagination" role="navigation">
	
	    <a class="newer-posts" href="/csdn/page/5/">&larr; Newer Posts</a>
	
	<span class="page-number">Page 6 of 12</span>
	
	    <a class="older-posts" href="/csdn/page/7/">Older Posts &rarr;</a>
	
</nav>

</main>



    <footer class="site-footer clearfix">
        <section class="copyright"><a href="">迁移自(blog.csdn.net/xiaobin_HLJ80)</a> </section>
        
        <section class="poweredby">Proudly generated by <a class="icon-hugo" href="http://gohugo.io">HUGO</a>, with <a class="icon-theme" href="https://github.com/vjeantet/hugo-theme-casper">Casper</a> theme</section>
        
    </footer>
    </div>
    <script type="text/javascript" src="/csdn/js/jquery.js"></script>
    <script type="text/javascript" src="/csdn/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="/csdn/js/index.js"></script>
    
</body>
</html>
