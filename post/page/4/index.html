<!DOCTYPE html>
<html lang="zh-CN">
<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    
    <meta name="referrer" content="no-referrer"/>
    



<meta name="twitter:title" content="Posts"/>
<meta name="twitter:description" content=""/>
<meta name="twitter:site" content="@"/>



  	<meta property="og:title" content="Posts &middot; 迁移自(blog.csdn.net/xiaobin_HLJ80)" />
  	<meta property="og:site_name" content="迁移自(blog.csdn.net/xiaobin_HLJ80)" />
  	<meta property="og:url" content="https://tdtc-hrb.github.io/csdn/post/" />

    
        
    

    
    <meta property="og:type" content="website" />
    <meta property="og:description" content="" />
    

    <title>Posts &middot; 迁移自(blog.csdn.net/xiaobin_HLJ80)</title>

    
    <meta name="description" content="" />
    

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="/csdn/images/favicon.ico">
	  <link rel="apple-touch-icon" href="/csdn/images/apple-touch-icon.png" />

    <link rel="stylesheet" type="text/css" href="/csdn/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="/csdn/css/nav.css" />

    

    

    
      
          <link href="/csdn/index.xml" rel="alternate" type="application/rss+xml" title="迁移自(blog.csdn.net/xiaobin_HLJ80)" />
      
      
        <link href='/csdn/post/index.xml' rel="alternate" type="application/rss+xml" title="Posts &middot; 迁移自(blog.csdn.net/xiaobin_HLJ80)" />
      
    
    <meta name="generator" content="Hugo 0.147.8">

    <link rel="canonical" href="https://tdtc-hrb.github.io/csdn/post/" />

    
      
    
    <script type="application/ld+json">
    {
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Person",
        "name":  null ,
        
        "url":  null ,
        "sameAs": [
            
            
             
             
             
             
             
            
        ]
    },
    "url": "https://tdtc-hrb.github.io/csdn/",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://tdtc-hrb.github.io/csdn/"
    },
    "description":  null 
}
  </script>
    


    

    

    
</head>
<body class="nav-closed">

  <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        
        
    </ul>

    
    <a class="subscribe-button icon-feed" href="/csdn/post/index.xml">Subscribe</a>
    
</div>
<span class="nav-cover"></span>


 <div class="site-wrapper">




	<header class="main-header tag-head no-cover">

    <nav class="main-nav overlay clearfix">
      
      
        
          <a class="menu-button icon-feed" href='/csdn/post/index.xml'>&nbsp;&nbsp;Subscribe</a>
        
      
    </nav>
    <div class="vertical">
        <div class="main-header-content inner">
            <h1 class="page-title">Posts</h1>
            <h2 class="page-description">
                
            </h2>
        </div>
    </div>
</header>

<main class="content" role="main">
    

	<div class="extra-pagination inner">
    <nav class="pagination" role="navigation">
	
	    <a class="newer-posts" href="/csdn/post/page/3/">&larr; Newer Posts</a>
	
	<span class="page-number">Page 4 of 12</span>
	
	    <a class="older-posts" href="/csdn/post/page/5/">Older Posts &rarr;</a>
	
</nav>

	</div>

	
	   <article class="post post">
    <header class="post-header">
        <h2 class="post-title"><a href="/csdn/post/ops_vmware_netadapter/">使用物理网卡</a></h2>
    </header>
    <section class="post-excerpt">
        
            <p><h1 id="vmware">VMware</h1>
<ul>
<li>Host OS <br>
Win10(x64)</li>
</ul>
<p>-Guest OS <br>
Ubuntu 14.04(x64)</p>
<p>目的：Ubuntu独立使用1块网卡与局域网中的设备或主机通讯。</p>
<p>问题：宿主机器有两个网卡</p>
<p>（1）无线网卡（2）有线网卡</p>
<h2 id="vmware-network">VMware Network</h2>
<p><a href="https://stackoverflow.com/a/54232899">overview</a></p>
<table>
  <thead>
      <tr>
          <th></th>
          <th>VM &lt;-&gt; Host</th>
          <th>VM1 &lt;-&gt; VM2</th>
          <th>VM -&gt; Internet</th>
          <th>VM &lt;- Internet</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>HostOnly</td>
          <td>Yes</td>
          <td>Yes</td>
          <td>No</td>
          <td>No</td>
      </tr>
      <tr>
          <td>Internal</td>
          <td>No</td>
          <td>Yes</td>
          <td>No</td>
          <td>No</td>
      </tr>
      <tr>
          <td>Bridged</td>
          <td>Yes</td>
          <td>Yes</td>
          <td>Yes</td>
          <td>Yes</td>
      </tr>
      <tr>
          <td>NAT</td>
          <td>No</td>
          <td>No</td>
          <td>Yes</td>
          <td>Port forward</td>
      </tr>
  </tbody>
</table>
<h3 id="编辑-虚拟网络编辑器">编辑-&gt;虚拟网络编辑器</h3>
<p><img src="https://gitee.com/xiaobin80/csdn/raw/master/images/20171227034323068.png" alt="vmware ui">
默认设置</p>
<p>我们更改桥接模式中“桥接到”，即可。（由自动更改为下图）
<img src="https://gitee.com/xiaobin80/csdn/raw/master/images/20171227034811154.png" alt="vmware ui"></p>
<h3 id="网络适配器">网络适配器</h3>
<p><img src="https://gitee.com/xiaobin80/csdn/raw/master/images/20171227035131591.png" alt="vmware ui"></p>
<h1 id="nfs">NFS</h1>
<blockquote>
<p>AT91SAM9260 in terminal</p></blockquote>
<p>启动NFS，工作正常。</p>
<p>输出信息如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>This is the boot programm!鶷his is the boot programm!
</span></span><span style="display:flex;"><span>Load UBOOT, please wait......
</span></span><span style="display:flex;"><span>Load UBOOT from 0x10010000 to 0x23f00000 Over
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>U-Boot 1.3.4 <span style="color:#f92672">(</span>Mar <span style="color:#ae81ff">18</span> <span style="color:#ae81ff">2015</span> - 07:00:42<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>DRAM:  <span style="color:#ae81ff">64</span> MB
</span></span><span style="display:flex;"><span>MAN_ID: 0x00bf
</span></span><span style="display:flex;"><span>PRO_ID: 0x234b
</span></span><span style="display:flex;"><span>Flash:  <span style="color:#ae81ff">2</span> MB
</span></span><span style="display:flex;"><span>NAND:  NAND device: Manufacturer ID: 0xec, Chip ID: 0x76 <span style="color:#f92672">(</span>/狺掰掰?NAND <span style="color:#ae81ff">64</span>
</span></span><span style="display:flex;"><span>MiB 3,3V 8-bit<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">64</span> MiB
</span></span><span style="display:flex;"><span>DataFlash:AT45DB161
</span></span><span style="display:flex;"><span>Nb pages:   <span style="color:#ae81ff">4096</span>
</span></span><span style="display:flex;"><span>Page Size:    <span style="color:#ae81ff">528</span>
</span></span><span style="display:flex;"><span>Size<span style="color:#f92672">=</span> <span style="color:#ae81ff">2162688</span> bytes
</span></span><span style="display:flex;"><span>Logical address: 0xD0000000
</span></span><span style="display:flex;"><span>Area 0: D0000000 to D0003FFF <span style="color:#f92672">(</span>RO<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Area 1: D0004000 to D0007FFF
</span></span><span style="display:flex;"><span>Area 2: D0008000 to D0037FFF <span style="color:#f92672">(</span>RO<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Area 3: D0038000 to D020FFFF
</span></span><span style="display:flex;"><span>In:    serial
</span></span><span style="display:flex;"><span>Out:   serial
</span></span><span style="display:flex;"><span>Err:   serial
</span></span><span style="display:flex;"><span>PHY Detected <span style="color:#f92672">(</span>mdio-addr 1, ID 0x0013:0x78e2<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>link up, 100Mbps, full-duplex
</span></span><span style="display:flex;"><span>Hit any key to stop autoboot:  <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Booting kernel from Legacy Image at 20400000 ...</span>
</span></span><span style="display:flex;"><span>   Image Name:   Linux-2.6.30
</span></span><span style="display:flex;"><span>   Image Type:   ARM Linux Kernel Image <span style="color:#f92672">(</span>uncompressed<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>   Data Size:    <span style="color:#ae81ff">1439844</span> Bytes <span style="color:#f92672">=</span>  1.4 MB
</span></span><span style="display:flex;"><span>   Load Address: <span style="color:#ae81ff">20008000</span>
</span></span><span style="display:flex;"><span>   Entry Point:  <span style="color:#ae81ff">20008000</span>
</span></span><span style="display:flex;"><span>   Verifying Checksum ... OK
</span></span><span style="display:flex;"><span>   Loading Kernel Image ... OK
</span></span><span style="display:flex;"><span>OK
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Starting kernel ...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Uncompressing Linux.............................................................
</span></span><span style="display:flex;"><span>............................... <span style="color:#66d9ef">done</span>, booting the kernel.
</span></span><span style="display:flex;"><span>Linux version 2.6.30 <span style="color:#f92672">(</span>root@ubuntu<span style="color:#f92672">)</span> <span style="color:#f92672">(</span>gcc version 4.3.2 <span style="color:#f92672">(</span>crosstool-NG 1.19.0<span style="color:#f92672">)</span> <span style="color:#f92672">)</span> <span style="color:#75715e">#1</span>
</span></span><span style="display:flex;"><span> Fri Mar <span style="color:#ae81ff">27</span> 07:55:15 PDT <span style="color:#ae81ff">2015</span>
</span></span><span style="display:flex;"><span>CPU: ARM926EJ-S <span style="color:#f92672">[</span>41069265<span style="color:#f92672">]</span> revision <span style="color:#ae81ff">5</span> <span style="color:#f92672">(</span>ARMv5TEJ<span style="color:#f92672">)</span>, cr<span style="color:#f92672">=</span><span style="color:#ae81ff">00053177</span>
</span></span><span style="display:flex;"><span>CPU: VIVT data cache, VIVT instruction cache
</span></span><span style="display:flex;"><span>Machine: Atmel AT91SAM9260-EK
</span></span><span style="display:flex;"><span>Memory policy: ECC disabled, Data cache writeback
</span></span><span style="display:flex;"><span>Clocks: CPU <span style="color:#ae81ff">199</span> MHz, master <span style="color:#ae81ff">99</span> MHz, main 18.432 MHz
</span></span><span style="display:flex;"><span>Built <span style="color:#ae81ff">1</span> zonelists in Zone order, mobility grouping on.  Total pages: <span style="color:#ae81ff">16256</span>
</span></span><span style="display:flex;"><span>Kernel command line: console<span style="color:#f92672">=</span>ttyS0,115200 ip<span style="color:#f92672">=</span>dhcp root<span style="color:#f92672">=</span>/dev/nfs rw
</span></span><span style="display:flex;"><span>NR_IRQS:192
</span></span><span style="display:flex;"><span>AT91: <span style="color:#ae81ff">96</span> gpio irqs in <span style="color:#ae81ff">3</span> banks
</span></span><span style="display:flex;"><span>PID hash table entries: <span style="color:#ae81ff">256</span> <span style="color:#f92672">(</span>order: 8, <span style="color:#ae81ff">1024</span> bytes<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Console: colour dummy device 80x30
</span></span><span style="display:flex;"><span>console <span style="color:#f92672">[</span>ttyS0<span style="color:#f92672">]</span> enabled
</span></span><span style="display:flex;"><span>Dentry cache hash table entries: <span style="color:#ae81ff">8192</span> <span style="color:#f92672">(</span>order: 3, <span style="color:#ae81ff">32768</span> bytes<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Inode-cache hash table entries: <span style="color:#ae81ff">4096</span> <span style="color:#f92672">(</span>order: 2, <span style="color:#ae81ff">16384</span> bytes<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Memory: 64MB <span style="color:#f92672">=</span> 64MB total
</span></span><span style="display:flex;"><span>Memory: 61956KB available <span style="color:#f92672">(</span>2484K code, 222K data, 120K init, 0K highmem<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Calibrating delay loop... 99.32 BogoMIPS <span style="color:#f92672">(</span>lpj<span style="color:#f92672">=</span>496640<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Mount-cache hash table entries: <span style="color:#ae81ff">512</span>
</span></span><span style="display:flex;"><span>CPU: Testing write buffer coherency: ok
</span></span><span style="display:flex;"><span>net_namespace: <span style="color:#ae81ff">296</span> bytes
</span></span><span style="display:flex;"><span>NET: Registered protocol family <span style="color:#ae81ff">16</span>
</span></span><span style="display:flex;"><span>AT91: Power Management
</span></span><span style="display:flex;"><span>AT91: Starting after user reset
</span></span><span style="display:flex;"><span>bio: create slab &lt;bio-0&gt; at <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>SCSI subsystem initialized
</span></span><span style="display:flex;"><span>usbcore: registered new interface driver usbfs
</span></span><span style="display:flex;"><span>usbcore: registered new interface driver hub
</span></span><span style="display:flex;"><span>usbcore: registered new device driver usb
</span></span><span style="display:flex;"><span>NET: Registered protocol family <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>IP route cache hash table entries: <span style="color:#ae81ff">1024</span> <span style="color:#f92672">(</span>order: 0, <span style="color:#ae81ff">4096</span> bytes<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>TCP established hash table entries: <span style="color:#ae81ff">2048</span> <span style="color:#f92672">(</span>order: 2, <span style="color:#ae81ff">16384</span> bytes<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>TCP bind hash table entries: <span style="color:#ae81ff">2048</span> <span style="color:#f92672">(</span>order: 1, <span style="color:#ae81ff">8192</span> bytes<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>TCP: Hash tables configured <span style="color:#f92672">(</span>established <span style="color:#ae81ff">2048</span> bind 2048<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>TCP reno registered
</span></span><span style="display:flex;"><span>NET: Registered protocol family <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>NetWinder Floating Point Emulator V0.97 <span style="color:#f92672">(</span>double precision<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>msgmni has been set to <span style="color:#ae81ff">121</span>
</span></span><span style="display:flex;"><span>alg: No test <span style="color:#66d9ef">for</span> stdrng <span style="color:#f92672">(</span>krng<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>io scheduler noop registered
</span></span><span style="display:flex;"><span>io scheduler anticipatory registered <span style="color:#f92672">(</span>default<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>atmel_usart.0: ttyS0 at MMIO 0xfefff200 <span style="color:#f92672">(</span>irq <span style="color:#f92672">=</span> 1<span style="color:#f92672">)</span> is a ATMEL_SERIAL
</span></span><span style="display:flex;"><span>atmel_usart.1: ttyS1 at MMIO 0xfffb0000 <span style="color:#f92672">(</span>irq <span style="color:#f92672">=</span> 6<span style="color:#f92672">)</span> is a ATMEL_SERIAL
</span></span><span style="display:flex;"><span>atmel_usart.2: ttyS2 at MMIO 0xfffb4000 <span style="color:#f92672">(</span>irq <span style="color:#f92672">=</span> 7<span style="color:#f92672">)</span> is a ATMEL_SERIAL
</span></span><span style="display:flex;"><span>brd: module loaded
</span></span><span style="display:flex;"><span>loop: module loaded
</span></span><span style="display:flex;"><span>ssc ssc.0: Atmel SSC device at 0xc4820000 <span style="color:#f92672">(</span>irq 14<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Driver <span style="color:#e6db74">&#39;sd&#39;</span> needs updating - please use bus_type methods
</span></span><span style="display:flex;"><span>MACB_mii_bus: probed
</span></span><span style="display:flex;"><span>eth0: Atmel MACB at 0xfffc4000 irq <span style="color:#ae81ff">21</span> <span style="color:#f92672">(</span>20:00:00:00:00:00<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>eth0: attached PHY driver <span style="color:#f92672">[</span>LXT971<span style="color:#f92672">]</span> <span style="color:#f92672">(</span>mii_bus:phy_addr<span style="color:#f92672">=</span>ffffffff:01, irq<span style="color:#f92672">=</span>-1<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>NAND device: Manufacturer ID: 0xec, Chip ID: 0x76 <span style="color:#f92672">(</span>Samsung NAND 64MiB 3,3V 8-bit
</span></span><span style="display:flex;"><span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>AT91 NAND: 8-bit, Software ECC
</span></span><span style="display:flex;"><span>Scanning device <span style="color:#66d9ef">for</span> bad blocks
</span></span><span style="display:flex;"><span>Creating <span style="color:#ae81ff">1</span> MTD partitions on <span style="color:#e6db74">&#34;atmel_nand&#34;</span>:
</span></span><span style="display:flex;"><span>0x000000000000-0x000004000000 : <span style="color:#e6db74">&#34;AT91 NAND my_P1&#34;</span>
</span></span><span style="display:flex;"><span>ohci_hcd: USB 1.1 <span style="color:#e6db74">&#39;Open&#39;</span> Host Controller <span style="color:#f92672">(</span>OHCI<span style="color:#f92672">)</span> Driver
</span></span><span style="display:flex;"><span>at91_ohci at91_ohci: AT91 OHCI
</span></span><span style="display:flex;"><span>at91_ohci at91_ohci: new USB bus registered, assigned bus number <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>at91_ohci at91_ohci: irq 20, io mem 0x00500000
</span></span><span style="display:flex;"><span>usb usb1: configuration <span style="color:#75715e">#1 chosen from 1 choice</span>
</span></span><span style="display:flex;"><span>hub 1-0:1.0: USB hub found
</span></span><span style="display:flex;"><span>hub 1-0:1.0: <span style="color:#ae81ff">2</span> ports detected
</span></span><span style="display:flex;"><span>Initializing USB Mass Storage driver...
</span></span><span style="display:flex;"><span>usbcore: registered new interface driver usb-storage
</span></span><span style="display:flex;"><span>USB Mass Storage support registered.
</span></span><span style="display:flex;"><span>udc: at91_udc version <span style="color:#ae81ff">3</span> May <span style="color:#ae81ff">2006</span>
</span></span><span style="display:flex;"><span>mice: PS/2 mouse device common <span style="color:#66d9ef">for</span> all mice
</span></span><span style="display:flex;"><span>input: gpio-keys as /class/input/input0
</span></span><span style="display:flex;"><span>rtc-at91sam9 at91_rtt.0: rtc core: registered at91_rtt as rtc0
</span></span><span style="display:flex;"><span>IRQ 1/rtc0: IRQF_DISABLED is not guaranteed on shared IRQs
</span></span><span style="display:flex;"><span>rtc-at91sam9 at91_rtt.0: rtc0: SET TIME!
</span></span><span style="display:flex;"><span>Registered led device: ds5
</span></span><span style="display:flex;"><span>Registered led device: ds1
</span></span><span style="display:flex;"><span>TCP cubic registered
</span></span><span style="display:flex;"><span>NET: Registered protocol family <span style="color:#ae81ff">17</span>
</span></span><span style="display:flex;"><span>RPC: Registered udp transport module.
</span></span><span style="display:flex;"><span>RPC: Registered tcp transport module.
</span></span><span style="display:flex;"><span>rtc-at91sam9 at91_rtt.0: hctosys: unable to read the hardware clock
</span></span><span style="display:flex;"><span>Sending DHCP requests .&lt;6&gt;eth0: link up <span style="color:#f92672">(</span>100/Full<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>, OK
</span></span><span style="display:flex;"><span>IP-Config: Got DHCP answer from 192.168.0.135, my address is 192.168.0.251
</span></span><span style="display:flex;"><span>IP-Config: Complete:
</span></span><span style="display:flex;"><span>     device<span style="color:#f92672">=</span>eth0, addr<span style="color:#f92672">=</span>192.168.0.251, mask<span style="color:#f92672">=</span>255.255.255.0, gw<span style="color:#f92672">=</span>255.255.255.255,
</span></span><span style="display:flex;"><span>     host<span style="color:#f92672">=</span>192.168.0.251, domain<span style="color:#f92672">=</span>example.org, nis-domain<span style="color:#f92672">=(</span>none<span style="color:#f92672">)</span>,
</span></span><span style="display:flex;"><span>     bootserver<span style="color:#f92672">=</span>192.168.0.135, rootserver<span style="color:#f92672">=</span>192.168.0.135, rootpath<span style="color:#f92672">=</span>/opt/tdtc/rfs
</span></span><span style="display:flex;"><span>Looking up port of RPC 100003/2 on 192.168.0.135
</span></span><span style="display:flex;"><span>Looking up port of RPC 100005/1 on 192.168.0.135
</span></span><span style="display:flex;"><span>VFS: Mounted root <span style="color:#f92672">(</span>nfs filesystem<span style="color:#f92672">)</span> on device 0:12.
</span></span><span style="display:flex;"><span>Freeing init memory: 120K
</span></span><span style="display:flex;"><span>init started: BusyBox v1.23.2 <span style="color:#f92672">(</span>2015-11-09 22:59:50 EST<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Setting hotplug handler: <span style="color:#f92672">[</span> OK <span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>Creating device files: <span style="color:#f92672">[</span> OK <span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>Setting timezone and system clock: <span style="color:#f92672">[</span>OK<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>Starting system logging.
</span></span><span style="display:flex;"><span>Configuring network interfaces: ifdown: interface lo not configured
</span></span><span style="display:flex;"><span>ip: RTNETLINK answers: File exists
</span></span><span style="display:flex;"><span>failed
</span></span><span style="display:flex;"><span>Generating RSA Key...
</span></span><span style="display:flex;"><span>Will output <span style="color:#ae81ff">1024</span> bit rsa secret key to <span style="color:#e6db74">&#39;/etc/dropbear/dropbear_rsa_host_key&#39;</span>
</span></span><span style="display:flex;"><span>Generating key, this may take a <span style="color:#66d9ef">while</span>...
</span></span><span style="display:flex;"><span>Public key portion is:
</span></span><span style="display:flex;"><span>ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAAAgwCE5v/Ap3hCcJwDxLtDe3e4E6kQtgyBb1FKdFiJwmXa
</span></span><span style="display:flex;"><span>FIgbaguUjNyl8uq4yNbU9ewsmyqTHGtKShvxpJAD789cL/vMfHbKNxdBhwJ+dpuvyYtd/wexNcZ3EMPJ
</span></span><span style="display:flex;"><span>mvqqNXp0K/oTG0GdM1cnHES1AJQe26RYgiH2ew8DaATycT6IugBJ root@at91sam9260_ek
</span></span><span style="display:flex;"><span>Fingerprint: md5 48:fb:27:a2:8f:fc:0f:68:6a:75:00:98:13:36:c7:28
</span></span><span style="display:flex;"><span>Generating DSS Key...
</span></span><span style="display:flex;"><span>Will output <span style="color:#ae81ff">1024</span> bit dss secret key to <span style="color:#e6db74">&#39;/etc/dropbear/dropbear_dss_host_key&#39;</span>
</span></span><span style="display:flex;"><span>Generating key, this may take a <span style="color:#66d9ef">while</span>...
</span></span><span style="display:flex;"><span>Public key portion is:
</span></span><span style="display:flex;"><span>ssh-dss AAAAB3NzaC1kc3MAAACBAP6C7qLaTYM4bGxHSekRnhqUV61kUFCAWv1LyW6fPbMlJlIjpv5B
</span></span><span style="display:flex;"><span>Q1FRhsucQjY4BKfPEjLUB46veq0BMuTSs5ADVgrOKBXE5GnPu8oT04XZu+UjWO5wgYD6G1MyFVlzuY6m
</span></span><span style="display:flex;"><span>N5i3jdYpNE3J4YaYfC0xdUNn8WWkJH7cdSaiB3OTAAAAFQCfUA2AFBa9DQ+sUFOlAN3KvvaSywAAAIAs
</span></span><span style="display:flex;"><span>SOR8U0D+kO3aGWr+R73zH/oR2wqF/2TuRUqxIZQo6tzfuhmqRlvEtQ+2cN+NOac8BWO7PEa4txVI8aKe
</span></span><span style="display:flex;"><span>GC9AODlknbdorlYWfxqbqD4H05JQlCr/FY43KctjSSgcg81Ezk3Rh50CbkLk12E7EUh7e0khohuWOZhA
</span></span><span style="display:flex;"><span>AeH9v0xFrQAAAIAucDdk5oGeAKQ67pmgUake69h4oRUCN727lZFjRrGhduTfSYo1IyLZ78/CGXab8sF4
</span></span><span style="display:flex;"><span>aTSGa2PimN8evxyz2zAxghNqRpw1FVnjuglNjPH4GbbAPcRdVIYut19nFG7J8ULDvIDkIaHQHbdN1M3d
</span></span><span style="display:flex;"><span>/803WER1YCaJhWxq5BvRYgf10g<span style="color:#f92672">==</span> root@at91sam9260_ek
</span></span><span style="display:flex;"><span>Fingerprint: md5 b4:f5:28:b4:c4:f2:27:15:32:f6:77:56:44:f5:da:85
</span></span><span style="display:flex;"><span>Starting dropbear sshd: OK
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>BusyBox v1.23.2 <span style="color:#f92672">(</span>2015-11-09 22:59:50 EST<span style="color:#f92672">)</span> built-in shell <span style="color:#f92672">(</span>ash<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Enter <span style="color:#e6db74">&#39;help&#39;</span> <span style="color:#66d9ef">for</span> a list of built-in commands.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ls</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span>        dev      lib      mnt      root     share    usr
</span></span><span style="display:flex;"><span>bin      etc      linuxrc  opt      run      sys      var
</span></span><span style="display:flex;"><span>config   home     media    proc     sbin     tmp
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span></code></pre></div> <a class="read-more" href="/csdn/post/ops_vmware_netadapter/">&raquo;</a></p>
        
    </section>
    <footer class="post-meta">
        

        

        
        <time class="post-date" datetime="2023-01-18T14:08:08&#43;08:00">
            18 Jan 2023
        </time>
    </footer>
</article>

	
	   <article class="post post">
    <header class="post-header">
        <h2 class="post-title"><a href="/csdn/post/c2plus-unmanaged-dll/">调用非托管DLL</a></h2>
    </header>
    <section class="post-excerpt">
        
            <p><blockquote>
<p>IDE: vs2008 Express(sp1)</p></blockquote>
<h1 id="callxbflibrary">callXBFLibrary</h1>
<p>我们需要使用API函数来读取INI文件。</p>
<h1 id="建立pinvoke应用类">建立P/Invoke应用类</h1>
<p><img src="https://github.com/tdtc-hrb/csdn/raw/master/images/20200514014607.png" alt="vs2008 ui1"></p>
<p><img src="https://github.com/tdtc-hrb/csdn/raw/master/images/20200514014830.png" alt="vs2008 ui2"></p>
<p>在<a href="http://pinvoke.net/index.aspx">pinvoke.net</a>中查找Win32 API在C#定义。
<img src="https://github.com/tdtc-hrb/csdn/raw/master/images/20140303141518625.png" alt="vs2008 ui"></p>
<h2 id="getprivateprofilestring">GetPrivateProfileString</h2>
<p>读取Ini文件的API</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>[<span style="color:#a6e22e">DllImport</span>(<span style="color:#e6db74">&#34;kernel32.dll&#34;</span>, CharSet<span style="color:#f92672">=</span>CharSet.Unicode)]
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">extern</span> uint <span style="color:#a6e22e">GetPrivateProfileString</span>(
</span></span><span style="display:flex;"><span>   string lpAppName,
</span></span><span style="display:flex;"><span>   string lpKeyName,
</span></span><span style="display:flex;"><span>   string lpDefault,
</span></span><span style="display:flex;"><span>   StringBuilder lpReturnedString,
</span></span><span style="display:flex;"><span>   uint nSize,
</span></span><span style="display:flex;"><span>   string lpFileName);
</span></span></code></pre></div><blockquote>
<p>注意：DllImport属性来自using System.Runtime.InteropServices;</p></blockquote>
<ul>
<li>lpAppName <br>
  小节名</li>
<li>lpKeyName <br>
键名</li>
<li>lpDefault <br>
缺省值</li>
<li>lpReturnedString  <br>
返回值</li>
<li>nSize  <br>
返回值长度</li>
<li>lpFileName <br>
读取文件的名称</li>
</ul>
<h3 id="import-class">import class</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>  using System.Runtime.InteropServices;
</span></span></code></pre></div><h2 id="readinifileval">readIniFileVal</h2>
<p>建立一个公共方法，以供程序使用。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>public string <span style="color:#a6e22e">readIniFileVal</span>(string iniFileName, string section, string key)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    StringBuilder retStrBuilder <span style="color:#f92672">=</span> new <span style="color:#a6e22e">StringBuilder</span>(<span style="color:#ae81ff">256</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">GetPrivateProfileString</span>(
</span></span><span style="display:flex;"><span>        section,
</span></span><span style="display:flex;"><span>        key,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>        retStrBuilder,
</span></span><span style="display:flex;"><span>        <span style="color:#ae81ff">256</span>,
</span></span><span style="display:flex;"><span>        iniFileName);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> retStrBuilder.<span style="color:#a6e22e">ToString</span>();
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h1 id="code">code</h1>
<blockquote>
<p>Cwin32API.cs</p> <a class="read-more" href="/csdn/post/c2plus-unmanaged-dll/">&raquo;</a></p>
        
    </section>
    <footer class="post-meta">
        

        

        
        <time class="post-date" datetime="2023-01-03T00:08:08&#43;08:00">
            3 Jan 2023
        </time>
    </footer>
</article>

	
	   <article class="post post">
    <header class="post-header">
        <h2 class="post-title"><a href="/csdn/post/demo-tdtc/">TDTC Demo</a></h2>
    </header>
    <section class="post-excerpt">
        
            <p><ul>
<li>
<p>系统需求 <br>
Mixed(x86 and x64): Windows 10 - Windows Vista <br>
Pure(x86): Windows XP - Windows 3.1</p>
<p>ref &ldquo;VC Redist&rdquo;</p>
</li>
<li>
<p>注册下列COM组件</p>
</li>
</ul>
<pre tabindex="0"><code>xbfInfo.dll
repoInfo.dll
</code></pre><h1 id="callxbflib">callXBFLib</h1>
<blockquote>
<p>生成/读取xbf文件.</p></blockquote>
<h2 id="文档请参考">文档请参考</h2>
<ul>
<li><a href="https://tdtc-hrb.github.io/csdn/post/c2plus-unmanaged-dll/">callXBFLibrary - 调用非托管DLL</a></li>
<li><a href="https://tdtc-hrb.github.io/csdn/post/c2plus-com-dll/">callXBFLibrary - 调用COM</a></li>
</ul>
<h2 id="配置文件">配置文件</h2>
<blockquote>
<p>xbfConfig.ini</p></blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">[</span>config<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>type <span style="color:#f92672">=</span> MySQL
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>MS-Access<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>DB <span style="color:#f92672">=</span> v:<span style="color:#ae81ff">\f</span>de.mdb
</span></span><span style="display:flex;"><span>Pwd <span style="color:#f92672">=</span> wwsrts12
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>MSSQL<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>Server <span style="color:#f92672">=</span> ddrwaas2
</span></span><span style="display:flex;"><span>DB     <span style="color:#f92672">=</span> dddrrewq
</span></span><span style="display:flex;"><span>User   <span style="color:#f92672">=</span> ttrrre
</span></span><span style="display:flex;"><span>Pwd    <span style="color:#f92672">=</span> qwerty
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>MySQL<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>Server <span style="color:#f92672">=</span> 192.168.1.107
</span></span><span style="display:flex;"><span>DB     <span style="color:#f92672">=</span> mysql
</span></span><span style="display:flex;"><span>User   <span style="color:#f92672">=</span> DBAdmin
</span></span><span style="display:flex;"><span>Pwd    <span style="color:#f92672">=</span> xbfirst
</span></span></code></pre></div><h1 id="repofmtgen">repoFmtGen</h1>
<blockquote>
<p>生成固定格式的报文。</p></blockquote>
<h3 id="文档请参考-1">文档请参考</h3>
<ul>
<li><a href="https://tdtc-hrb.github.io/csdn/post/com-safearray-vc/">读取SafeArray数据</a></li>
</ul>
<h2 id="运行效果">运行效果</h2>
<p><img src="https://github.com/tdtc-hrb/csdn/raw/master/images/20151225213801939.png" alt="program ui"></p> <a class="read-more" href="/csdn/post/demo-tdtc/">&raquo;</a></p>
        
    </section>
    <footer class="post-meta">
        

        

        
        <time class="post-date" datetime="2022-12-17T08:18:18&#43;08:00">
            17 Dec 2022
        </time>
    </footer>
</article>

	
	   <article class="post post">
    <header class="post-header">
        <h2 class="post-title"><a href="/csdn/post/ops_hadoop_cluster/">Hadoop - cluster</a></h2>
    </header>
    <section class="post-excerpt">
        
            <p><h1 id="prepare">Prepare</h1>
<table>
  <thead>
      <tr>
          <th></th>
          <th>server1</th>
          <th>server2</th>
          <th>server3</th>
          <th>server4</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>NameNode</td>
          <td>y</td>
          <td>y</td>
          <td></td>
          <td></td>
      </tr>
      <tr>
          <td>DataNode</td>
          <td> </td>
          <td>y</td>
          <td>y</td>
          <td>y</td>
      </tr>
      <tr>
          <td>ResourceManager</td>
          <td> </td>
          <td> </td>
          <td>y</td>
          <td>y</td>
      </tr>
      <tr>
          <td>NodeManager</td>
          <td>y</td>
          <td>y</td>
          <td>y</td>
          <td>y</td>
      </tr>
      <tr>
          <td>Zookeeper</td>
          <td>y</td>
          <td>y</td>
          <td>y</td>
          <td>y</td>
      </tr>
      <tr>
          <td>JournalNode</td>
          <td>y</td>
          <td>y</td>
          <td>y</td>
          <td></td>
      </tr>
      <tr>
          <td>ZK-FC</td>
          <td>y</td>
          <td>y</td>
          <td> </td>
          <td> </td>
      </tr>
      <tr>
          <td>JobHistor</td>
          <td>y</td>
          <td></td>
          <td></td>
          <td></td>
      </tr>
  </tbody>
</table>
<table>
  <thead>
      <tr>
          <th>Server Name</th>
          <th>IP</th>
          <th>Host Name</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>server1</td>
          <td>192.168.42.107</td>
          <td>tdtc201</td>
      </tr>
      <tr>
          <td>server2</td>
          <td>192.168.42.108</td>
          <td>tdtc202</td>
      </tr>
      <tr>
          <td>server3</td>
          <td>192.168.42.109</td>
          <td>tdtc203</td>
      </tr>
      <tr>
          <td>server4</td>
          <td>192.168.42.110</td>
          <td>tdtc204</td>
      </tr>
  </tbody>
</table>
<h2 id="1-zk">1. zk</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>zkServer.sh start
</span></span></code></pre></div><p>安装详见《<a href="https://tdtc-hrb.github.io/csdn/post/ops_zookeeper/">ZooKeeper multi-server install</a>》</p>
<h2 id="2-open-firewall">2. Open <a href="https://tdtc-hrb.github.io/csdn/post/ops_firewall/">firewall</a></h2>
<h1 id="stage-i-installation">Stage I: Installation</h1>
<h2 id="1-unzip">1. Unzip</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>/home/$USER/app/hadoop/$version
</span></span></code></pre></div><blockquote>
<p>路径参考<a href="https://www.tecmint.com/oracle-database-11g-release-2-installation-in-linux/">Oracle11g</a></p> <a class="read-more" href="/csdn/post/ops_hadoop_cluster/">&raquo;</a></p>
        
    </section>
    <footer class="post-meta">
        

        

        
        <time class="post-date" datetime="2022-10-11T00:08:08&#43;08:00">
            11 Oct 2022
        </time>
    </footer>
</article>

	
	   <article class="post post">
    <header class="post-header">
        <h2 class="post-title"><a href="/csdn/post/ops_real_keepalived/">架设Real Server和Keepalived Server</a></h2>
    </header>
    <section class="post-excerpt">
        
            <p><p>准备工作：</p>
<ul>
<li><a href="https://tdtc-hrb.github.io/csdn/post/ops_network_adapter_linux/">修改网卡为固定IP</a></li>
<li><a href="https://tdtc-hrb.github.io/csdn/post/ops_sudo/">开启sudo</a></li>
</ul>
<h1 id="总览">总览</h1>
<p>OS:  minimal</p>
<ul>
<li><a href="https://mirrors.almalinux.org/isos/x86_64/8.6.html">Alma</a></li>
<li><a href="http://isoredirect.centos.org/centos/7/isos/x86_64/">CentOS7.9</a></li>
</ul>
<h2 id="real-server">Real Server</h2>
<ul>
<li>RHEL78RS1</li>
</ul>
<blockquote>
<p>192.168.0.127</p></blockquote>
<ol>
<li>Nginx v1.22</li>
<li>Tomcat v8.5.82</li>
</ol>
<ul>
<li>RHEL78RS2</li>
</ul>
<blockquote>
<p>192.168.0.122</p></blockquote>
<ol>
<li>Nginx v1.22</li>
<li>Tomcat v9.0.68</li>
</ol>
<h2 id="keepalived-server">Keepalived Server</h2>
<ul>
<li>RHEL78Master</li>
</ul>
<blockquote>
<p>192.168.0.129</p></blockquote>
<ul>
<li>RHEL78Bak</li>
</ul>
<blockquote>
<p>192.168.0.130</p></blockquote>
<h1 id="一real-server">一、Real Server</h1>
<p>安装前准备:</p>
<ul>
<li><a href="https://tdtc-hrb.github.io/csdn/post/ops_tomcat/">Linux下安装Tomcat</a></li>
<li><a href="https://tdtc-hrb.github.io/csdn/post/ops_nginx/">nginx - CentOS7</a></li>
<li><a href="https://tdtc-hrb.github.io/cnblogs/post/ops_nginx-v2/">nginx - RHEL8</a></li>
</ul>
<h2 id="config-arp">config ARP</h2>
<p>ifconfig:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$sudo yum install net-tools
</span></span></code></pre></div><h3 id="service">Service</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#vi /etc/init.d/realserver</span>
</span></span></code></pre></div><p>/etc/init.d/realserver:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>SNS_VIP<span style="color:#f92672">=</span>192.168.0.220
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;</span>$1<span style="color:#e6db74">&#34;</span> in
</span></span><span style="display:flex;"><span>start<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>       ifconfig lo:0 $SNS_VIP netmask 255.255.255.255 broadcast $SNS_VIP
</span></span><span style="display:flex;"><span>       /sbin/route add -host $SNS_VIP dev lo:0
</span></span><span style="display:flex;"><span>       echo <span style="color:#e6db74">&#34;1&#34;</span> &gt;/proc/sys/net/ipv4/conf/lo/arp_ignore
</span></span><span style="display:flex;"><span>       echo <span style="color:#e6db74">&#34;2&#34;</span> &gt;/proc/sys/net/ipv4/conf/lo/arp_announce
</span></span><span style="display:flex;"><span>       echo <span style="color:#e6db74">&#34;1&#34;</span> &gt;/proc/sys/net/ipv4/conf/all/arp_ignore
</span></span><span style="display:flex;"><span>       echo <span style="color:#e6db74">&#34;2&#34;</span> &gt;/proc/sys/net/ipv4/conf/all/arp_announce
</span></span><span style="display:flex;"><span>       sysctl -p &gt;/dev/null 2&gt;&amp;<span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>       echo <span style="color:#e6db74">&#34;RealServer Start OK&#34;</span>
</span></span><span style="display:flex;"><span>       ;;
</span></span><span style="display:flex;"><span>stop<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>       ifconfig lo:0 down
</span></span><span style="display:flex;"><span>       route del $SNS_VIP &gt;/dev/null 2&gt;&amp;<span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>       echo <span style="color:#e6db74">&#34;0&#34;</span> &gt;/proc/sys/net/ipv4/conf/lo/arp_ignore
</span></span><span style="display:flex;"><span>       echo <span style="color:#e6db74">&#34;0&#34;</span> &gt;/proc/sys/net/ipv4/conf/lo/arp_announce
</span></span><span style="display:flex;"><span>       echo <span style="color:#e6db74">&#34;0&#34;</span> &gt;/proc/sys/net/ipv4/conf/all/arp_ignore
</span></span><span style="display:flex;"><span>       echo <span style="color:#e6db74">&#34;0&#34;</span> &gt;/proc/sys/net/ipv4/conf/all/arp_announce
</span></span><span style="display:flex;"><span>       echo <span style="color:#e6db74">&#34;RealServer Stoped&#34;</span>
</span></span><span style="display:flex;"><span>       ;;
</span></span><span style="display:flex;"><span>*<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>       echo <span style="color:#e6db74">&#34;Usage: </span>$0<span style="color:#e6db74"> {start|stop}&#34;</span>
</span></span><span style="display:flex;"><span>       exit <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">esac</span>
</span></span><span style="display:flex;"><span>exit <span style="color:#ae81ff">0</span>
</span></span></code></pre></div><h2 id="exec">exec</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$sudo chmod <span style="color:#ae81ff">755</span> /etc/init.d/realserver
</span></span><span style="display:flex;"><span>$sudo service realserver start
</span></span></code></pre></div><ul>
<li>tomcat</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>/usr/local/tomcat/bin/startup.sh
</span></span></code></pre></div><ul>
<li>nginx</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo /usr/sbin/nginx
</span></span></code></pre></div><h1 id="二keepalived-server">二、Keepalived Server</h1>
<ul>
<li><a href="https://tdtc-hrb.github.io/csdn/post/ops_keepalived/">v1</a></li>
<li><a href="https://tdtc-hrb.github.io/cnblogs/post/ops_keepalived_v2/">v2</a></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#systemctl start keepalived</span>
</span></span></code></pre></div><h2 id="see-state">see state</h2>
<p>virtual IP show:</p> <a class="read-more" href="/csdn/post/ops_real_keepalived/">&raquo;</a></p>
        
    </section>
    <footer class="post-meta">
        

        

        
        <time class="post-date" datetime="2022-10-03T02:38:08&#43;08:00">
            3 Oct 2022
        </time>
    </footer>
</article>

	
	   <article class="post post">
    <header class="post-header">
        <h2 class="post-title"><a href="/csdn/post/ops_keepalived-v2/">安装配置Keepalived</a></h2>
    </header>
    <section class="post-excerpt">
        
            <p><blockquote>
<p>OS: CentOS7 minimal(VBox)</p></blockquote>
<p>Virtual Box Network configure:</p>
<ul>
<li>Attached to</li>
</ul>
<pre tabindex="0"><code>Bridged Adapter
</code></pre><ul>
<li>Advanced <br>
promiscuous mode:</li>
</ul>
<pre tabindex="0"><code>Allow All
</code></pre><h1 id="一安装">一、安装</h1>
<p>prepare tool:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#yum install gcc make autoconf automake openssl-devel libnl3-devel \</span>
</span></span><span style="display:flex;"><span>    iptables-devel ipset-devel net-snmp-devel libnfnetlink-devel file-devel <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>    glib2-devel pcre2-revel libnftnl-devel libmnl-devel systemd-devel kmod-devel
</span></span></code></pre></div><p>LVS manager:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>yum install ipvsadm
</span></span></code></pre></div><h2 id="installation">installation</h2>
<ul>
<li>MASTER <br>
Node 1</li>
<li>BACKUP <br>
Node 2</li>
</ul>
<h3 id="down-and-unzip">down and unzip</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$git clone https://github.com/acassen/keepalived.git
</span></span></code></pre></div><p>for me:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$git clone https://gitee.com/xiaobin80/keepalived
</span></span></code></pre></div><h3 id="installation-1">installation</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$cd keepalived
</span></span><span style="display:flex;"><span>$./autogen.sh
</span></span></code></pre></div><p>configure:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$./configure --prefix<span style="color:#f92672">=</span>/usr
</span></span></code></pre></div><p>make:</p> <a class="read-more" href="/csdn/post/ops_keepalived-v2/">&raquo;</a></p>
        
    </section>
    <footer class="post-meta">
        

        

        
        <time class="post-date" datetime="2022-09-30T09:38:08&#43;08:00">
            30 Sep 2022
        </time>
    </footer>
</article>

	
	   <article class="post post">
    <header class="post-header">
        <h2 class="post-title"><a href="/csdn/post/ops_nginx/">前端（Web）负载均衡</a></h2>
    </header>
    <section class="post-excerpt">
        
            <p><p>Nginx&rsquo;s load balancing</p>
<h1 id="一安装">一、安装</h1>
<p>OS: CentOS7 minimal（安装时的选项）</p>
<h2 id="0-prepare">0. prepare</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$yum -y install gcc gcc-c++ automake pcre pcre-devel zlib zlib-devel openssl openssl-devel
</span></span></code></pre></div><h3 id="1-update-openssl">1) update OpenSSL</h3>
<blockquote>
<p>default directory: /usr/ssl</p></blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$wget https://www.openssl.org/source/openssl-1.1.1q.tar.gz --no-check-certificate
</span></span></code></pre></div><h3 id="2-setup">2) setup</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$./config --prefix<span style="color:#f92672">=</span>/usr --shared
</span></span><span style="display:flex;"><span>$make
</span></span></code></pre></div><blockquote>
<p>Root permission Required</p></blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$sudo make install
</span></span></code></pre></div><h2 id="1-installation">1. installation</h2>
<p>First, install Nginx of centos repo; <br>
Then, replace the nginx program file. <br>
Note: The replaced program file version must be the same as the repo!</p> <a class="read-more" href="/csdn/post/ops_nginx/">&raquo;</a></p>
        
    </section>
    <footer class="post-meta">
        

        

        
        <time class="post-date" datetime="2022-09-29T08:38:08&#43;08:00">
            29 Sep 2022
        </time>
    </footer>
</article>

	
	   <article class="post post">
    <header class="post-header">
        <h2 class="post-title"><a href="/csdn/post/mysql-mha/">主备切换 - MySQL&#43;MHA</a></h2>
    </header>
    <section class="post-excerpt">
        
            <p><blockquote>
<p>在进行安装配置前，请确认已经完成了 <a href="https://tdtc-hrb.github.io/csdn/post/mysql-master-slave-replication/">MySQL 主从复制</a></p></blockquote>
<ul>
<li>MHA</li>
</ul>
<blockquote>
<p>(V0.58)</p></blockquote>
<ol>
<li><a href="https://github.com/yoshinorim/mha4mysql-manager">Manager</a></li>
<li><a href="https://github.com/yoshinorim/mha4mysql-node">Node</a></li>
</ol>
<blockquote>
<blockquote>
<p>baidu yun - backup</p></blockquote></blockquote>
<ol>
<li><a href="https://pan.baidu.com/s/1FBX1yI4HncdI9UZCdzdcHQ">Mha manager</a></li>
<li><a href="https://pan.baidu.com/s/1wA5NOUgjnDDJxQTL0U-1DA">Mha node</a></li>
</ol>
<blockquote>
<p>安装前准备 <a href="https://tdtc-hrb.github.io/csdn/post/ops_ssh_without_password/">ssh相互免密</a></p></blockquote>
<p><img src="https://github.com/tdtc-hrb/csdn/raw/master/images/wuhan2017120193.png" alt="sql status"></p>
<h1 id="一安装">一、安装</h1>
<table>
  <thead>
      <tr>
          <th>Name</th>
          <th>IP</th>
          <th>Memo</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>mha1</td>
          <td>192.168.0.151</td>
          <td>Monitor host</td>
      </tr>
  </tbody>
</table>
<p>使用pscp上传文件请参考 <a href="https://tdtc-hrb.github.io/csdn/post/mysql-master-slave-replication/">MySQL 主从复制</a> - 5. test data</p>
<h2 id="1-mha-node">1. MHA Node</h2>
<blockquote>
<p>所有MySQL服务器（mysql1、mysql11、mysql12）和MHA 管理机（MHA）都要安装。</p></blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo yum localinstall mha4mysql-node-0.58-0.el7.centos.noarch.rpm
</span></span></code></pre></div><h2 id="2-mha-manager">2. MHA Manager</h2>
<blockquote>
<p>CentOS源有perl-Config-Tiny。</p></blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo yum install perl-Config-Tiny
</span></span></code></pre></div><blockquote>
<p>安装<a href="https://fedoraproject.org/wiki/EPEL">epel</a>，
可以找到<a href="https://github.com/yoshinorim/mha4mysql-manager/wiki/Installation#installing-mha-manager">perl-Log-Dispatch、perl-Parallel-ForkManager</a>。</p></blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo yum install https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
</span></span><span style="display:flex;"><span>sudo yum install perl-Log-Dispatch perl-Parallel-ForkManager -y
</span></span></code></pre></div><blockquote>
<p>安装manager</p> <a class="read-more" href="/csdn/post/mysql-mha/">&raquo;</a></p>
        
    </section>
    <footer class="post-meta">
        

        

        
        <time class="post-date" datetime="2022-09-27T00:38:08&#43;08:00">
            27 Sep 2022
        </time>
    </footer>
</article>

	
	   <article class="post post">
    <header class="post-header">
        <h2 class="post-title"><a href="/csdn/post/ops_gnupg/">GNU PG的使用</a></h2>
    </header>
    <section class="post-excerpt">
        
            <p><p>The GNU Privacy Guard</p>
<h1 id="1-install">1. install</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$yum install gnupg
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$yum install rng-tools
</span></span></code></pre></div><h1 id="2-gen-key">2. gen key</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$gpg --gen-key
</span></span></code></pre></div><p>Decompose 20180804215500757.png step:
<img src="https://github.com/tdtc-hrb/csdn/raw/master/images/gpg1key-1.png" alt="gen 1 key 1">
Press Key: enter
<img src="https://github.com/tdtc-hrb/csdn/raw/master/images/gpg1key-2.png" alt="gen 1 key 2">
Press Key: enter
<img src="https://github.com/tdtc-hrb/csdn/raw/master/images/gpg1key-3.png" alt="gen 1 key 3">
Press Key: enter
<img src="https://github.com/tdtc-hrb/csdn/raw/master/images/gpg1key-4.png" alt="gen 1 key 4">
Press Key: y
<img src="https://github.com/tdtc-hrb/csdn/raw/master/images/gpg1key-5.png" alt="gen 1 key 5"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Real name: xiaobin
</span></span><span style="display:flex;"><span>Email address: veic_2005@163
</span></span><span style="display:flex;"><span>Comment: enter<span style="color:#f92672">(</span>press key<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Press Key: O
</span></span></code></pre></div><p><img src="https://github.com/tdtc-hrb/csdn/raw/master/images/20180804215653837.png" alt="gen key 2">
输入完，按“Tab”切换到“OK”,按回车。
<img src="https://github.com/tdtc-hrb/csdn/raw/master/images/20180804215907772.png" alt="gen key 3">
再输入一次，
<img src="https://github.com/tdtc-hrb/csdn/raw/master/images/2018080422004955.png" alt="gen key 4"></p>
<p><img src="https://github.com/tdtc-hrb/csdn/raw/master/images/20180804220108336.png" alt="gen key 5"></p> <a class="read-more" href="/csdn/post/ops_gnupg/">&raquo;</a></p>
        
    </section>
    <footer class="post-meta">
        

        

        
        <time class="post-date" datetime="2022-09-25T00:08:08&#43;08:00">
            25 Sep 2022
        </time>
    </footer>
</article>

	
	   <article class="post post">
    <header class="post-header">
        <h2 class="post-title"><a href="/csdn/post/mysql57-cenos7/">CentOS7/8安装mysql5.7</a></h2>
    </header>
    <section class="post-excerpt">
        
            <p><blockquote>
<p>本安装大部分同<a href="https://tdtc-hrb.github.io/csdn/post/mysql-mdb-v103/">&ldquo;安装 MariaDB 10.3数据库&rdquo;</a></p></blockquote>
<h1 id="installation">Installation</h1>
<h2 id="1-add-repo">1. add repo</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo yum install http://repo.mysql.com/mysql57-community-release-el7.rpm
</span></span></code></pre></div><h2 id="2-install">2. install</h2>
<p>import GPG:</p>
<pre tabindex="0"><code>sudo rpm --import https://repo.mysql.com/RPM-GPG-KEY-mysql-2022
</code></pre><h2 id="centos7">CentOS7</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo yum install mysql-community-server
</span></span></code></pre></div><h2 id="centos8">CentOS8</h2>
<p>Install after doing the following(disable default repo, config-manager, close gpgcheck):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo dnf install mysql-community-server
</span></span></code></pre></div><h3 id="disable-default-repo">disable default repo</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo dnf remove @mysql
</span></span><span style="display:flex;"><span>sudo dnf module reset mysql
</span></span><span style="display:flex;"><span>sudo dnf module disable mysql
</span></span></code></pre></div><h3 id="config-manager">config-manager</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo dnf config-manager --disable mysql80-community
</span></span><span style="display:flex;"><span>sudo dnf config-manager --enable mysql57-community
</span></span></code></pre></div><h3 id="close-gpgcheck">close gpgcheck</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo vi /etc/yum.repos.d/mysql-community.repo
</span></span></code></pre></div><p>mysql-community.repo:</p> <a class="read-more" href="/csdn/post/mysql57-cenos7/">&raquo;</a></p>
        
    </section>
    <footer class="post-meta">
        

        

        
        <time class="post-date" datetime="2022-09-24T06:21:39&#43;08:00">
            24 Sep 2022
        </time>
    </footer>
</article>

	

	<nav class="pagination" role="navigation">
	
	    <a class="newer-posts" href="/csdn/post/page/3/">&larr; Newer Posts</a>
	
	<span class="page-number">Page 4 of 12</span>
	
	    <a class="older-posts" href="/csdn/post/page/5/">Older Posts &rarr;</a>
	
</nav>

</main>



    <footer class="site-footer clearfix">
        <section class="copyright"><a href="">迁移自(blog.csdn.net/xiaobin_HLJ80)</a> </section>
        
        <section class="poweredby">Proudly generated by <a class="icon-hugo" href="http://gohugo.io">HUGO</a>, with <a class="icon-theme" href="https://github.com/vjeantet/hugo-theme-casper">Casper</a> theme</section>
        
    </footer>
    </div>
    <script type="text/javascript" src="/csdn/js/jquery.js"></script>
    <script type="text/javascript" src="/csdn/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="/csdn/js/index.js"></script>
    
</body>
</html>
